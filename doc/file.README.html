<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-Plesk">Plesk</h1>

<h2 id="label-Table+of+Contents">Table of Contents</h2>
<ol><li>
<p><a href="#description">Description</a></p>
</li><li>
<p><a href="#setup">Setup - The basics of getting started with plesk</a></p>
<ul><li>
<p><a href="#what-plesk-affects">What plesk affects</a></p>
</li><li>
<p><a href="#setup-requirements">Setup requirements</a></p>
</li><li>
<p><a href="#beginning-with-plesk">Beginning with plesk</a></p>
</li></ul>
</li><li>
<p><a href="#limitations">Limitations</a></p>
</li><li>
<p><a href="#development">Development </a></p>
</li></ol>

<h2 id="label-Description">Description</h2>

<p>This module is meant to setup various Plesk elements.</p>

<h2 id="label-Setup">Setup</h2>

<h3 id="label-What+Plesk+affects">What Plesk affects</h3>
<ul><li>
<p>Plesk themes</p>
</li><li>
<p>Plesk extensions</p>
</li><li>
<p>PHP and Nginx settings</p>
</li><li>
<p>Plesk service plans</p>
</li></ul>

<h3 id="label-Beginning+with+plesk">Beginning with plesk</h3>

<p>Download your into your modules directory. You need a node that has Plesk
installed already added to your infrastructure.</p>

<h2 id="label-Usage">Usage</h2>

<h4 id="label-Install+a+plesk+extension-3A">Install a plesk extension:</h4>

<p>node &#39;plesk.node&#39; {  plesk_extension { &#39;wp-toolkit&#39;: 
ensure =&gt; present  }  }</p>

<h4 id="label-Install+a+plesk+theme-3A">Install a plesk theme:</h4>

<p>node &#39;plesk.node {  include plesk::theme  }</p>

<p>You can then specify what the theme package name is in hiera:</p>

<p>plesk::theme::theme_name: &#39;theme-name&#39;  plesk::theme::theme_path:
&#39;/path/to/theme-name.zip&#39;</p>

<p>Note that the theme-name should be available to download through apt. Also
the meta.xml of the theme needs to have the name of the theme be the same
as the actual package name and the one you use in theme_name.</p>

<h4 id="label-Create+a+plesk+plan-3A">Create a plesk plan:</h4>

<p>node &#39;plesk.node&#39; {  service_plan { &#39;planname&#39;:  ensure
=&gt; present,  php_served_by_nginx =&gt; &#39;true&#39;  } }</p>

<p>Note that the current plan provider only supports hosting related
parameters. Everything mail related is removed. It can be easily added and
will be in future, as all that is required is to actually add the params to
the defined type and the custom type itself. The provider would only need
the paramteres added to the FIXDASH array if one is forced to use an
underscore.</p>

<p>Also due to the way Plesk works we can only ensure that a plan exists but
not all values, so ensure only confirms it is created with the given
params.</p>

<h4 id="label-Set+plesk+notifications">Set plesk notifications</h4>

<p>node plesk.node {  plesk::notification { &#39;domain_creation&#39;:  ensure
=&gt; present,  send2admin =&gt; &#39;false&#39;,  send2reseller =&gt;
&#39;false&#39;,  send2client =&gt; &#39;true&#39;,<br>  }</p>

<h5 id="label-NOTE+that+the+true+falses+are+strings.">NOTE that the true falses are strings.</h5>

<p>The name of the resource should be the actual notification code availble
here:</p>

<p><a
href="https://docs.plesk.com/en-US/obsidian/cli-linux/using-command-line-utilities/notification-email-notification-about-system-events.66604">docs.plesk.com/en-US/obsidian/cli-linux/using-command-line-utilities/notification-email-notification-about-system-events.66604</a>/</p>

<h2 id="label-Limitations">Limitations</h2>
<ul><li>
<p>This has been tested with Ubuntu 20.04 only.</p>
</li><li>
<p>Puppet version &gt;= 6.25</p>
</li><li>
<p>Plesk 18.0.X.</p>
</li></ul>

<h2 id="label-Development">Development</h2>

<p>Be cool and stay in school</p>
</div></div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>